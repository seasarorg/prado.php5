<?phpclass Edit extends TPage{	public function onLoad($param)	{		if(!$this->IsPostback)		{			if(($_page = TPropertyValue::ensureString($this->Request['edit']))==="")				throw new Exception("need 'edit' parameter value");			if(($_path = Prado::getPathOfNamespace($_page))===null)				throw new Exception("not found target page");			$this->setViewState("SavePath", $_path);			$this->setViewState("Referrer", $this->Request->getUrlReferrer());			if(!file_exists($_path.".page"))			{				$paths = explode("/", $_path);				$filename = array_pop($paths).".page";				$locale = array_pop($paths);				$org_path = implode("/", $paths);				$new_dir = $org_path."/".$locale;				if(!is_dir($new_dir))					mkdir($new_dir, 0777);				copy($org_path."/".$filename, $_path.".page");			}			$this->EditBox->Text = file_get_contents($_path.".page");		}	}		public function onEditButtonClicked($sender, $param)	{		$edit = $this->EditBox->Text;		$savepath = $this->getViewState("SavePath").".page";		$save_result = file_put_contents($savepath, $edit);		$this->Response->redirect($this->getViewState("Referrer"));	}}?>